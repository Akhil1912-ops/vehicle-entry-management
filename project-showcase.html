<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vehicle Entry Management System — Campus Gate Security</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: #ffffff;
      color: #1a1a1a;
      line-height: 1.6;
      min-height: 100vh;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      padding: 3rem 2rem;
    }

    /* Title */
    h1 {
      font-size: 1.75rem;
      font-weight: 700;
      color: #1e3a5f;
      text-align: center;
      margin-bottom: 0.5rem;
    }

    .title-underline {
      width: 80px;
      height: 3px;
      background: #2563eb;
      margin: 0 auto 2.5rem;
    }

    /* Introduction */
    h2 {
      font-size: 1.1rem;
      font-weight: 600;
      color: #1e3a5f;
      margin-bottom: 1rem;
    }

    .intro p {
      color: #374151;
      margin-bottom: 1rem;
      font-size: 0.95rem;
    }

    .intro ul {
      margin-left: 1.5rem;
      margin-bottom: 1.5rem;
      color: #374151;
      font-size: 0.95rem;
    }

    .intro li {
      margin-bottom: 0.35rem;
    }

    .note-box {
      background: #eff6ff;
      border-left: 4px solid #2563eb;
      padding: 1rem 1.25rem;
      margin: 1.5rem 0;
      font-size: 0.9rem;
      color: #1e40af;
    }

    /* Part sections */
    section.part {
      margin: 2.5rem 0;
    }

    section.part h2 {
      font-size: 1.15rem;
      margin-bottom: 1rem;
    }

    section.part h3 {
      font-size: 0.95rem;
      font-weight: 600;
      color: #1a1a1a;
      margin: 1.25rem 0 0.5rem;
    }

    section.part p {
      color: #374151;
      font-size: 0.95rem;
      margin-bottom: 0.75rem;
    }

    /* Screenshot placeholder */
    .screenshot-placeholder {
      background: #f3f4f6;
      border: 2px dashed #d1d5db;
      border-radius: 8px;
      padding: 3rem 2rem;
      margin: 1.25rem 0;
      text-align: center;
      color: #6b7280;
      font-size: 0.9rem;
    }

    .screenshot-row {
      display: flex;
      gap: 1rem;
      margin: 1rem 0;
      flex-wrap: wrap;
    }

    .screenshot-row img {
      max-width: 280px;
      height: auto;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
    }

    .screenshot-single {
      max-width: 320px;
    }

    /* Tech list */
    .tech-list {
      margin: 0.75rem 0;
      padding-left: 1.25rem;
      color: #374151;
      font-size: 0.9rem;
    }

    .tech-list li {
      margin-bottom: 0.25rem;
    }

    /* Backend section */
    .backend-section {
      margin: 2.5rem 0;
    }

    .backend-section h2 {
      margin-bottom: 1rem;
    }

    .backend-section p,
    .backend-section ul {
      color: #374151;
      font-size: 0.95rem;
      margin-bottom: 0.75rem;
    }

    .backend-section ul {
      margin-left: 1.5rem;
    }

    code {
      background: #f3f4f6;
      padding: 0.15rem 0.4rem;
      border-radius: 4px;
      font-size: 0.85em;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Vehicle Entry Management System — Campus Gate Security</h1>
    <div class="title-underline"></div>

    <!-- Introduction -->
    <section class="intro">
      <h2>Introduction</h2>
      <p>
        A system for security guards at campus gates to track vehicle entries and exits. The app checks if vehicles are registered, logs entry and exit times, and flags suspicious activity (e.g. unregistered vehicles entering often, or vehicles staying too long).
      </p>
      <p>The system has <strong>four main parts:</strong></p>
      <ul>
        <li><strong>Entry Gate</strong> — Android screen for checking vehicles at entry</li>
        <li><strong>Exit Gate</strong> — Android screen for recording exits</li>
        <li><strong>Admin Dashboard</strong> — Password-protected screen to manage vehicles and view logs</li>
        <li><strong>Backend</strong> — Firebase Firestore (cloud database; the app talks directly to Firebase)</li>
      </ul>
      <div class="note-box">
        <strong>Backend:</strong> We use <strong>Firebase Firestore</strong> for all data (vehicles, entry logs). Real-time sync, offline persistence. No separate server needed.
      </div>
    </section>

    <!-- Part 1: Entry Gate -->
    <section class="part">
      <h2>1. Entry Gate</h2>
      <h3>What it does:</h3>
      <p>Security guard types the vehicle plate number. The app checks if the vehicle is registered, runs suspicious-activity rules (e.g. unregistered vehicle entering 2+ times in 20 minutes), shows the past 3 entries, and logs the entry to Firestore.</p>

      <img src="images/entry-gate.png" alt="Entry Gate screen" class="screenshot-single">

      <h3>Tech:</h3>
      <ul class="tech-list">
        <li>Kotlin, Android AppCompatActivity</li>
        <li>Firebase Firestore (cloud database)</li>
        <li>Kotlin Coroutines (async)</li>
        <li>Material Design, ViewBinding</li>
        <li><code>FirebaseService.isVehicleRegistered()</code>, <code>checkSuspiciousFrequency()</code>, <code>getPastEntries()</code>, <code>logEntry()</code></li>
      </ul>
    </section>

    <!-- Part 2: Exit Gate -->
    <section class="part">
      <h2>2. Exit Gate</h2>
      <h3>What it does:</h3>
      <p>When a vehicle leaves, the guard enters the plate. The app finds the matching open entry (no exit time yet), updates it with exit time and duration. If the stay was over 20 minutes, it flags the entry as suspicious.</p>

      <img src="images/exit-gate.png" alt="Exit Gate screen" class="screenshot-single">

      <h3>Tech:</h3>
      <ul class="tech-list">
        <li>Kotlin, Android AppCompatActivity</li>
        <li>Firebase Firestore</li>
        <li>Kotlin Coroutines</li>
        <li><code>FirebaseService.findActiveEntry()</code> — queries entryLogs where exitTime is null, then updates document</li>
      </ul>
    </section>

    <!-- Part 3: Admin Dashboard -->
    <section class="part">
      <h2>3. Admin Dashboard</h2>
      <h3>What it does:</h3>
      <p>Password-protected screen for admins. Add or delete vehicles (plate, owner, type). View all entry/exit logs (latest 100). Suspicious entries are highlighted. Includes change-password flow.</p>

      <div class="screenshot-row">
        <img src="images/admin-register.png" alt="Admin Dashboard — Register New Vehicle">
        <img src="images/admin-vehicles.png" alt="Admin Dashboard — Registered Vehicles">
      </div>
      <img src="images/admin-logs.png" alt="Admin Dashboard — Recent Entry Logs" class="screenshot-single">

      <h3>Tech:</h3>
      <ul class="tech-list">
        <li>Kotlin, Android AppCompatActivity</li>
        <li>Firebase Firestore</li>
        <li>SharedPreferences (AdminAuth — password storage)</li>
        <li>Kotlin Coroutines</li>
        <li><code>FirebaseService.addVehicle()</code>, <code>deleteVehicle()</code>, <code>getAllEntryLogs(100)</code></li>
      </ul>
    </section>

    <!-- Part 4: Backend -->
    <section class="part backend-section">
      <h2>4. Backend</h2>
      <h3>What it does:</h3>
      <p><strong>Firebase Firestore</strong> is the backend. The app (Entry, Exit, Admin) talks directly to Firestore — no separate server. Stores vehicles and entry logs, syncs in real time, works offline with cached data.</p>

      <h3>Tech:</h3>
      <ul class="tech-list">
        <li>Firebase Firestore (cloud database)</li>
        <li>Collections: <code>vehicles</code> (plateNumber, ownerName, vehicleType), <code>entryLogs</code> (plateNumber, entryTime, exitTime, durationMinutes, isSuspicious)</li>
        <li>Offline persistence enabled</li>
      </ul>

      <p style="margin-top: 1.25rem; font-size: 0.9rem; color: #6b7280;"><strong>Optional:</strong> There is a Python FastAPI + SQLite API in the project for migration or local testing — the app does <strong>not</strong> use it.</p>
    </section>

    <!-- Future Plans -->
    <section class="part">
      <h2>Future Plans</h2>
      <ul class="tech-list">
        <li><strong>Photo + number plate extraction</strong> — At entry and exit gates: take a photo of the vehicle plate and use OCR to automatically extract the number for check and log.</li>
        <li><strong>Text entry at bottom</strong> — Keep manual plate input field at the bottom so guards can type the number when needed.</li>
      </ul>
    </section>

  </div>
</body>
</html>
